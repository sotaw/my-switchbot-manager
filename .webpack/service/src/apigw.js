(()=>{"use strict";var e={200:function(e,t,a){var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return c(t,e),t},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.handler=void 0;const s=o(a(315)),n=d(a(654)),u=s.createServer(n.default);t.handler=(e,t)=>{s.proxy(u,e,t)}},654:function(e,t,a){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=r(a(860)),o=r(a(167)),d=(0,c.default)(),s=c.default.Router();d.use(c.default.json()),d.use(c.default.urlencoded({extended:!0})),d.post("/switch",(async(e,t)=>{if(e.body.token!==process.env.AUTH_TOKEN)return void t.status(401).send("invalid token");let a;try{a=(await o.default.get("https://api.switch-bot.com/v1.0/devices/A848FAE38BDB/status",{headers:{authorization:"6bb2d3d34505c2c9052f0e05b75c091d2378063d6a69ceeb9bcfeea20f1cc0b375a97a1f1030ba4cdce43f2b658fc734"}})).data}catch{return void t.status(500).send(" cannot get device status")}try{"on"==a.body.power?await o.default.post("https://api.switch-bot.com/v1.0/devices/A848FAE38BDB/commands",{command:"turnOff",parameter:"default",commandType:"command"},{headers:{authorization:"6bb2d3d34505c2c9052f0e05b75c091d2378063d6a69ceeb9bcfeea20f1cc0b375a97a1f1030ba4cdce43f2b658fc734"}}):await o.default.post("https://api.switch-bot.com/v1.0/devices/A848FAE38BDB/commands",{command:"turnOn",parameter:"default",commandType:"command"},{headers:{authorization:"6bb2d3d34505c2c9052f0e05b75c091d2378063d6a69ceeb9bcfeea20f1cc0b375a97a1f1030ba4cdce43f2b658fc734"}})}catch{return void t.status(500).send(" cannot command device")}t.send("success")})),d.use("/",s),t.default=d},315:e=>{e.exports=require("aws-serverless-express")},167:e=>{e.exports=require("axios")},860:e=>{e.exports=require("express")}},t={},a=function a(r){var c=t[r];if(void 0!==c)return c.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,a),o.exports}(200),r=exports;for(var c in a)r[c]=a[c];a.__esModule&&Object.defineProperty(r,"__esModule",{value:!0})})();